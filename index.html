<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Crafting</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”¨ Sistema de Crafting</h1>
            <div class="header-buttons">
                <span id="sync-status" class="sync-status">ğŸ”„ Conectando...</span>
                <button id="storage-info-btn" class="info-btn">ğŸ’¾ Ver Armazenamento</button>
                <button id="manage-recipes-btn" class="manage-btn">âš™ï¸ Gerenciar Receitas</button>
            </div>
        </div>
        
        <div class="craft-section">
            <div class="input-group">
                <label for="item-select">Item para Craftar:</label>
                <select id="item-select">
                    <option value="">-- Selecione um item --</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="quantity">Quantidade:</label>
                <input type="number" id="quantity" value="1" min="1">
            </div>
            
            <button id="calculate-btn">Calcular Recursos</button>
            <button id="clear-btn">Limpar</button>
        </div>
        
        <div id="results" class="results hidden">
            <h2>ğŸ“Š Recursos NecessÃ¡rios</h2>
            <div id="resources-list"></div>
            
            <h3>ğŸ”„ Ãrvore de Crafting</h3>
            <div id="craft-tree"></div>
        </div>Armazenamento -->
    <div id="storage-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ’¾ InformaÃ§Ãµes de Armazenamento</h2>
                <button id="close-storage-modal" class="close-btn">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="storage-info-section">
                    <h3>ğŸ“ LocalizaÃ§Ã£o dos Dados</h3>
                    <div class="info-box">
                        <p><strong>Sistema:</strong> Firebase Realtime Database</p>
                        <p><strong>Database URL:</strong> <code>https://primordial-mile-249702-default-rtdb.firebaseio.com/</code></p>
                        <p><strong>Caminhos usados:</strong></p>
                        <ul>
                            <li><code>/crafting/customRecipes</code> - Receitas customizadas</li>
                            <li><code>/crafting/recipeImages</code> - URLs das imagens</li>
                        </ul>
                        <p><strong>Status:</strong> <span id="firebase-status"></span></p>
                        <p><strong>Ãšltima sincronizaÃ§Ã£o:</strong> <span id="last-sync"></span></p>
                    </div>
                </div>
                
                <div class="storage-data-section">
                    <h3>ğŸ“Š Dados Armazenados</h3>
                    
                    <h4>Receitas Customizadas (<span id="custom-count">0</span>):</h4>
                    <div class="data-display">
                        <pre id="custom-recipes-display"></pre>
                    </div>
                    
                    <h4>Imagens (<span id="images-count">0</span>):</h4>
                    <div class="data-display">
                        <pre id="images-display"></pre>
                    </div>
                </div>
                
                <div class="storage-actions-section">
                    <h3>âš™ï¸ AÃ§Ãµes</h3>
                    <div class="action-buttons">
                        <button id="export-data-btn" class="action-btn export-btn">ğŸ“¤ Exportar Dados (JSON)</button>
                        <button id="import-data-btn" class="action-btn import-btn">ğŸ“¥ Importar Dados</button>
                        <button id="clear-storage-btn" class="action-btn danger-btn">ğŸ—‘ï¸ Limpar Tudo</button>
                    </div>
                    <input type="file" id="import-file-input" accept=".json" style="display: none;">
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de 
    </div>
    
    <!-- Modal de Gerenciamento de Receitas -->
    <div id="recipe-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âš™ï¸ Gerenciar Receitas</h2>
                <button id="close-modal" class="close-btn">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="add-recipe-section">
                    <h3>â• Adicionar Nova Receita</h3>
                    
                    <div class="input-group">
                        <label for="new-item-name">Nome do Item:</label>
                        <input type="text" id="new-item-name" placeholder="Ex: Fuzil AK">
                    </div>
                    
                    <div class="input-group">
                        <label for="new-item-output">Quantidade que rende:</label>
                        <input type="number" id="new-item-output" value="1" min="1">
                    </div>
                    
                    <div class="input-group">
                        <label for="new-item-image">URL da Imagem (opcional):</label>
                        <input type="text" id="new-item-image" placeholder="https://exemplo.com/imagem.png">
                        <div class="image-preview" id="image-preview"></div>
                    </div>
                    
                    <h4>Materiais NecessÃ¡rios:</h4>
                    <div id="materials-list">
                        <div class="material-row">
                            <input type="text" class="material-name" placeholder="Nome do material">
                            <input type="number" class="material-quantity" placeholder="Quantidade" min="1" value="1">
                            <button class="remove-material-btn" onclick="removeMaterial(this)">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <button id="add-material-btn" class="secondary-btn">+ Adicionar Material</button>
                    
                    <button id="save-recipe-btn" class="primary-btn">ğŸ’¾ Salvar Receita</button>
                    <button id="cancel-edit-btn" class="cancel-btn hidden">âŒ Cancelar EdiÃ§Ã£o</button>
                </div>
                
                <div class="recipes-list-section">
                    <h3>ğŸ“‹ Receitas Cadastradas</h3>
                    <div class="filter-group">
                        <input type="text" id="filter-recipes" placeholder="Filtrar receitas...">
                    </div>
                    <div id="existing-recipes"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <script src="recipes.js"></script>
    <script src="app.js"></script>
</body>
</html>
